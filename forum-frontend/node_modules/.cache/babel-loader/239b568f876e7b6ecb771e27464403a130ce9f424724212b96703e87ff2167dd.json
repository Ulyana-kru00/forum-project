{"ast":null,"code":"var _jsxFileName = \"/Users/darinautalieva/Desktop/GOProject/forum-frontend/src/components/Chat/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport useWebSocket from '../hooks/useWebSocket';\nimport '../components/MainLayout.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const [message, setMessage] = useState('');\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const {\n    messages,\n    sendMessage,\n    connectionStatus,\n    connect,\n    disconnect,\n    error: wsError\n  } = useWebSocket('ws://localhost:8082/ws', {\n    manual: true\n  });\n\n  // Проверка авторизации при монтировании\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('userId');\n    const username = localStorage.getItem('username');\n    if (token && userId && username) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  // Управление подключением WebSocket\n  useEffect(() => {\n    if (isLoggedIn) {\n      connect();\n    }\n    return () => {\n      if (isLoggedIn) {\n        disconnect(true);\n      }\n    };\n  }, [isLoggedIn, connect, disconnect]);\n\n  // Механизм переподключения\n  useEffect(() => {\n    const reconnectInterval = setInterval(() => {\n      if (connectionStatus === 'disconnected' && isLoggedIn) {\n        connect();\n      }\n    }, 5000);\n    return () => clearInterval(reconnectInterval);\n  }, [connectionStatus, isLoggedIn, connect]);\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:8080/login', {\n        login,\n        password\n      });\n      const {\n        token,\n        userId,\n        username\n      } = response.data;\n      if (!token || !userId || !username) {\n        throw new Error('Invalid server response');\n      }\n      localStorage.setItem('token', token);\n      localStorage.setItem('userId', userId);\n      localStorage.setItem('username', username);\n      setIsLoggedIn(true);\n      setErrorMessage('');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Login error:\", error);\n      setErrorMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed. Please try again.');\n      localStorage.clear();\n    }\n  };\n  const handleSendMessage = e => {\n    e.preventDefault();\n    const userId = localStorage.getItem('userId');\n    const username = localStorage.getItem('username');\n    if (!userId || !username) {\n      setErrorMessage('User session expired');\n      localStorage.clear();\n      setIsLoggedIn(false);\n      return;\n    }\n    if (!message.trim()) {\n      setErrorMessage('Cannot send empty message');\n      return;\n    }\n    sendMessage({\n      content: message.trim(),\n      userId: parseInt(userId, 10),\n      username\n    });\n    setMessage('');\n    setErrorMessage('');\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login to use Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: login,\n            onChange: e => setLogin(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"connection-status\",\n      children: [\"Connection Status: \", connectionStatus, wsError && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error-indicator\",\n        children: \" \\u2022 Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), wsError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: wsError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-panel\",\n      children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"message-username\",\n          children: [msg.username, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"message-content\",\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"message-timestamp\",\n          children: new Date(msg.timestamp).toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSendMessage,\n      className: \"message-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        placeholder: \"Type your message...\",\n        className: \"message-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"send-button\",\n        disabled: connectionStatus !== 'connected',\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"umpLsUvm8hvR55X2/uZdidmjVOo=\", false, function () {\n  return [useWebSocket];\n});\n_c = Chat;\nexport default Chat;\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import useWebSocket from '/Users/darinautalieva/Desktop/GOProject/forum-frontend/src/hooks/useWebSocket.js'; // путь поменяй если другой\n// import '/Users/darinautalieva/Desktop/GOProject/forum-frontend/src/components/MainLayout.css'; // путь к стилям\n\n// const Chat = () => {\n//   const [message, setMessage] = useState('');\n//   const [email, setEmail] = useState('');\n//   const [password, setPassword] = useState('');\n//   const [errorMessage, setErrorMessage] = useState('');\n//   const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n//   const [userId, setUserId] = useState(null);\n//   const [username, setUsername] = useState(null);\n\n//   const {\n//     messages,\n//     sendMessage,\n//     connectionStatus,\n//     connect, // добавляем ручное подключение\n//     disconnect\n//   } = useWebSocket('ws://localhost:8082/ws', { manual: true }); // manual mode!\n\n//   useEffect(() => {\n//     const storedUserId = localStorage.getItem('userId');\n//     const storedUsername = localStorage.getItem('username');\n//     if (storedUserId && storedUsername) {\n//       setUserId(storedUserId);\n//       setUsername(storedUsername);\n//       setIsLoggedIn(true);\n//       connect(); // подключаем WebSocket только если есть данные\n//     }\n//   }, [connect]);\n\n//   const handleLogin = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       const response = await axios.post('http://localhost:8080/login', {\n//         email,\n//         password,\n//       });\n\n//       if (response.status === 200) {\n//         const { userId, username, token } = response.data;\n\n//         if (!userId || !username || username === 'undefined') {\n//           console.warn('Invalid user session, cannot connect');\n//           setErrorMessage('Login failed: server did not provide user info.');\n//           return;\n//         }\n\n//         localStorage.setItem('userId', userId);\n//         localStorage.setItem('username', username);\n//         localStorage.setItem('token', token);\n\n//         setUserId(userId);\n//         setUsername(username);\n//         setIsLoggedIn(true);\n\n//         connect(); // подключаем WebSocket после логина\n\n//       }\n//     } catch (error) {\n//       console.error(error);\n//       setErrorMessage('Login failed. Please check your credentials.');\n//     }\n//   };\n\n//   const handleSubmit = (e) => {\n//     e.preventDefault();\n\n//     if (!message.trim() || !username) {\n//       console.warn('Cannot send empty message or missing username');\n//       return;\n//     }\n\n//     sendMessage({\n//       user_id:  userId,\n//       username: username,\n//       content: message.trim(),\n//     });\n\n//     setMessage('');\n//   };\n\n//   if (!isLoggedIn) {\n//     return (\n//       <div>\n//         <h2>Login to use Chat</h2>\n//         <form onSubmit={handleLogin}>\n//           <div>\n//             <label>Email</label>\n//             <input\n//               type=\"email\"\n//               value={email}\n//               onChange={(e) => setEmail(e.target.value)}\n//               required\n//             />\n//           </div>\n//           <div>\n//             <label>Password</label>\n//             <input\n//               type=\"password\"\n//               value={password}\n//               onChange={(e) => setPassword(e.target.value)}\n//               required\n//             />\n//           </div>\n//           <button type=\"submit\">Login</button>\n//         </form>\n\n//         {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"chat-container\">\n//       <div className=\"connection-status\">\n//         Status: {connectionStatus}\n//       </div>\n\n//       <div className=\"messages\">\n//         {messages.map((msg, index) => (\n//           <div key={index} className=\"message\">\n//             <span className=\"user\">{msg.username}:</span>  \n//             <span className=\"content\">{msg.content}</span>\n//           </div>\n//         ))}\n//       </div>\n\n//       <form onSubmit={handleSubmit} className=\"chat-form\">\n//         <input\n//           type=\"text\"\n//           value={message}\n//           onChange={(e) => setMessage(e.target.value)}\n//           placeholder=\"Type your message...\"\n//           disabled={connectionStatus !== 'connected'}\n//           className=\"chat-input\"\n//         />\n//         <button\n//           type=\"submit\"\n//           disabled={connectionStatus !== 'connected' || !message.trim()}\n//           className=\"chat-send-button\"\n//         >\n//           Send\n//         </button>\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useWebSocket","jsxDEV","_jsxDEV","Chat","_s","message","setMessage","login","setLogin","password","setPassword","errorMessage","setErrorMessage","isLoggedIn","setIsLoggedIn","messages","sendMessage","connectionStatus","connect","disconnect","error","wsError","manual","token","localStorage","getItem","userId","username","reconnectInterval","setInterval","clearInterval","handleLogin","e","preventDefault","response","post","data","Error","setItem","_error$response","_error$response$data","console","clear","handleSendMessage","trim","content","parseInt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","map","msg","index","Date","timestamp","toLocaleTimeString","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/darinautalieva/Desktop/GOProject/forum-frontend/src/components/Chat/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport useWebSocket from '../hooks/useWebSocket';\nimport '../components/MainLayout.css';\n\nconst Chat = () => {\n  const [message, setMessage] = useState('');\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  \n  const {\n    messages,\n    sendMessage,\n    connectionStatus,\n    connect,\n    disconnect,\n    error: wsError\n  } = useWebSocket('ws://localhost:8082/ws', { manual: true });\n\n  // Проверка авторизации при монтировании\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('userId');\n    const username = localStorage.getItem('username');\n    \n    if (token && userId && username) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  // Управление подключением WebSocket\n  useEffect(() => {\n    if (isLoggedIn) {\n      connect();\n    }\n    \n    return () => {\n      if (isLoggedIn) {\n        disconnect(true);\n      }\n    };\n  }, [isLoggedIn, connect, disconnect]);\n\n  // Механизм переподключения\n  useEffect(() => {\n    const reconnectInterval = setInterval(() => {\n      if (connectionStatus === 'disconnected' && isLoggedIn) {\n        connect();\n      }\n    }, 5000);\n\n    return () => clearInterval(reconnectInterval);\n  }, [connectionStatus, isLoggedIn, connect]);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:8080/login', {\n        login,\n        password,\n      });\n\n      const { token, userId, username } = response.data;\n      \n      if (!token || !userId || !username) {\n        throw new Error('Invalid server response');\n      }\n\n      localStorage.setItem('token', token);\n      localStorage.setItem('userId', userId);\n      localStorage.setItem('username', username);\n      \n      setIsLoggedIn(true);\n      setErrorMessage('');\n\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      setErrorMessage(error.response?.data?.message || 'Login failed. Please try again.');\n      localStorage.clear();\n    }\n  };\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    \n    const userId = localStorage.getItem('userId');\n    const username = localStorage.getItem('username');\n    \n    if (!userId || !username) {\n      setErrorMessage('User session expired');\n      localStorage.clear();\n      setIsLoggedIn(false);\n      return;\n    }\n\n    if (!message.trim()) {\n      setErrorMessage('Cannot send empty message');\n      return;\n    }\n\n    sendMessage({\n      content: message.trim(),\n      userId: parseInt(userId, 10),\n      username,\n    });\n\n    setMessage('');\n    setErrorMessage('');\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <div className=\"auth-container\">\n        <h2>Login to use Chat</h2>\n        <form onSubmit={handleLogin}>\n          <div className=\"form-group\">\n            <label>Login</label>\n            <input\n              type=\"text\"\n              value={login}\n              onChange={(e) => setLogin(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n          <button type=\"submit\" className=\"btn-primary\">Login</button>\n          {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n        </form>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-container\">\n      <div className=\"connection-status\">\n        Connection Status: {connectionStatus}\n        {wsError && <span className=\"error-indicator\"> • Error</span>}\n      </div>\n      \n      {wsError && <p className=\"error-message\">{wsError}</p>}\n\n      <div className=\"messages-panel\">\n        {messages.map((msg, index) => (\n          <div key={index} className=\"message\">\n            <span className=\"message-username\">{msg.username}:</span>\n            <span className=\"message-content\">{msg.content}</span>\n            <span className=\"message-timestamp\">\n              {new Date(msg.timestamp).toLocaleTimeString()}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      <form onSubmit={handleSendMessage} className=\"message-form\">\n        <input\n          type=\"text\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          placeholder=\"Type your message...\"\n          className=\"message-input\"\n        />\n        <button \n          type=\"submit\" \n          className=\"send-button\"\n          disabled={connectionStatus !== 'connected'}\n        >\n          Send\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Chat;\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import useWebSocket from '/Users/darinautalieva/Desktop/GOProject/forum-frontend/src/hooks/useWebSocket.js'; // путь поменяй если другой\n// import '/Users/darinautalieva/Desktop/GOProject/forum-frontend/src/components/MainLayout.css'; // путь к стилям\n\n// const Chat = () => {\n//   const [message, setMessage] = useState('');\n//   const [email, setEmail] = useState('');\n//   const [password, setPassword] = useState('');\n//   const [errorMessage, setErrorMessage] = useState('');\n//   const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n//   const [userId, setUserId] = useState(null);\n//   const [username, setUsername] = useState(null);\n\n//   const {\n//     messages,\n//     sendMessage,\n//     connectionStatus,\n//     connect, // добавляем ручное подключение\n//     disconnect\n//   } = useWebSocket('ws://localhost:8082/ws', { manual: true }); // manual mode!\n\n//   useEffect(() => {\n//     const storedUserId = localStorage.getItem('userId');\n//     const storedUsername = localStorage.getItem('username');\n//     if (storedUserId && storedUsername) {\n//       setUserId(storedUserId);\n//       setUsername(storedUsername);\n//       setIsLoggedIn(true);\n//       connect(); // подключаем WebSocket только если есть данные\n//     }\n//   }, [connect]);\n\n//   const handleLogin = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       const response = await axios.post('http://localhost:8080/login', {\n//         email,\n//         password,\n//       });\n\n//       if (response.status === 200) {\n//         const { userId, username, token } = response.data;\n\n//         if (!userId || !username || username === 'undefined') {\n//           console.warn('Invalid user session, cannot connect');\n//           setErrorMessage('Login failed: server did not provide user info.');\n//           return;\n//         }\n\n//         localStorage.setItem('userId', userId);\n//         localStorage.setItem('username', username);\n//         localStorage.setItem('token', token);\n\n//         setUserId(userId);\n//         setUsername(username);\n//         setIsLoggedIn(true);\n\n//         connect(); // подключаем WebSocket после логина\n\n//       }\n//     } catch (error) {\n//       console.error(error);\n//       setErrorMessage('Login failed. Please check your credentials.');\n//     }\n//   };\n\n//   const handleSubmit = (e) => {\n//     e.preventDefault();\n\n//     if (!message.trim() || !username) {\n//       console.warn('Cannot send empty message or missing username');\n//       return;\n//     }\n\n//     sendMessage({\n//       user_id:  userId,\n//       username: username,\n//       content: message.trim(),\n//     });\n\n//     setMessage('');\n//   };\n\n//   if (!isLoggedIn) {\n//     return (\n//       <div>\n//         <h2>Login to use Chat</h2>\n//         <form onSubmit={handleLogin}>\n//           <div>\n//             <label>Email</label>\n//             <input\n//               type=\"email\"\n//               value={email}\n//               onChange={(e) => setEmail(e.target.value)}\n//               required\n//             />\n//           </div>\n//           <div>\n//             <label>Password</label>\n//             <input\n//               type=\"password\"\n//               value={password}\n//               onChange={(e) => setPassword(e.target.value)}\n//               required\n//             />\n//           </div>\n//           <button type=\"submit\">Login</button>\n//         </form>\n\n//         {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"chat-container\">\n//       <div className=\"connection-status\">\n//         Status: {connectionStatus}\n//       </div>\n\n//       <div className=\"messages\">\n//         {messages.map((msg, index) => (\n//           <div key={index} className=\"message\">\n//             <span className=\"user\">{msg.username}:</span>  \n//             <span className=\"content\">{msg.content}</span>\n//           </div>\n//         ))}\n//       </div>\n\n//       <form onSubmit={handleSubmit} className=\"chat-form\">\n//         <input\n//           type=\"text\"\n//           value={message}\n//           onChange={(e) => setMessage(e.target.value)}\n//           placeholder=\"Type your message...\"\n//           disabled={connectionStatus !== 'connected'}\n//           className=\"chat-input\"\n//         />\n//         <button\n//           type=\"submit\"\n//           disabled={connectionStatus !== 'connected' || !message.trim()}\n//           className=\"chat-send-button\"\n//         >\n//           Send\n//         </button>\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default Chat;\n"],"mappings":"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ED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAChD,EAAA,CAhLID,IAAI;EAAA,QAcJH,YAAY;AAAA;AAAAmE,EAAA,GAdZhE,IAAI;AAkLV,eAAeA,IAAI;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAAgE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}